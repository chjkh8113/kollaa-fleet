---
# Kolla-Ansible Global Configuration
# Copy this file to globals.yml and modify according to your environment

########################
# Kolla options
########################
# Distribution and installation type
kolla_base_distro: "rocky"
kolla_install_type: "source"

# Docker namespace and registry
docker_namespace: "kolla"
docker_registry: ""  # Leave empty for Docker Hub, or specify private registry

# OpenStack release
openstack_release: "2024.2"  # Dalmatian

########################
# Networking options
########################
# Network interface for inter-host communication
network_interface: "eth0"

# Network interface for Neutron external (public) network
neutron_external_interface: "eth1"

# Valid options are [ openvswitch, ovn, linuxbridge ]
neutron_plugin_agent: "openvswitch"

# API interface (typically same as network_interface)
api_interface: "{{ network_interface }}"

# Tunnel interface for VXLAN/GRE traffic
tunnel_interface: "{{ network_interface }}"

# Internal VIP address for API endpoints
kolla_internal_vip_address: "10.0.0.10"

# External VIP address for public API access
kolla_external_vip_address: "192.168.1.10"

# External VIP interface
kolla_external_vip_interface: "{{ network_interface }}"

########################
# OpenStack options
########################
# Enable/disable services
enable_haproxy: "yes"
enable_mariadb: "yes"
enable_memcached: "yes"
enable_rabbitmq: "yes"
enable_chrony: "yes"

# Core services
enable_keystone: "yes"
enable_glance: "yes"
enable_nova: "yes"
enable_neutron: "yes"
enable_horizon: "yes"
enable_cinder: "yes"
enable_heat: "yes"
enable_placement: "yes"

# Optional services
enable_barbican: "no"
enable_octavia: "no"
enable_manila: "no"
enable_designate: "no"
enable_ironic: "no"
enable_magnum: "no"
enable_mistral: "no"
enable_trove: "no"
enable_zun: "no"

# Monitoring and logging
enable_prometheus: "yes"
enable_grafana: "yes"
enable_opensearch: "yes"
enable_opensearch_dashboards: "yes"

########################
# Cinder options
########################
# LVM configuration for Cinder
enable_cinder_backend_lvm: "yes"
cinder_volume_group: "cinder-volumes"

# Enable other backends as needed
# enable_cinder_backend_nfs: "no"
# enable_cinder_backend_iscsi: "no"

########################
# Neutron options
########################
# ML2 configuration
neutron_type_drivers: "flat,vlan,vxlan"
neutron_tenant_network_types: "vxlan"

# Provider network configuration
enable_neutron_provider_networks: "yes"

# DVR (Distributed Virtual Router)
enable_neutron_dvr: "no"

# L3 HA
enable_neutron_agent_ha: "yes"
neutron_l3_agent_mode: "legacy"

########################
# Nova options
########################
# Hypervisor
nova_compute_virt_type: "kvm"

# Enable live migration
enable_nova_migration: "yes"

########################
# Database options
########################
# MariaDB Galera cluster
enable_mariadb_clustercheck: "yes"

########################
# RabbitMQ options
########################
# Enable RabbitMQ clustering
rabbitmq_cluster_partition_handling: "pause_minority"

########################
# HAProxy options
########################
# HAProxy stats
haproxy_stats_enabled: "yes"
haproxy_stats_port: "1984"

########################
# Logging options
########################
# Syslog configuration
enable_central_logging: "yes"
syslog_server: "{{ kolla_internal_vip_address }}"
syslog_udp_port: "514"

########################
# Other options
########################
# Region name
openstack_region_name: "RegionOne"

# Enable TLS on internal/external API endpoints
kolla_enable_tls_internal: "no"
kolla_enable_tls_external: "no"

# Copy Kolla logs to syslog
copy_logs_to_host: "yes"

# Timezone
timezone: "UTC"